<!doctype html>
<html lang="en">
    <head>
        <title>Silly Bytes</title>

        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Software & Hardware Hacking Blog - vim,haskell,firmware,stm32,linux,ratpoision and more">

        <link rel="shortcut icon" type="image/png" href="../../img/favicon.png" />
        <link rel="stylesheet" href="../../css/main.css" />
    </head>


    <body>

        <header>

    <nav class="navbar">
        <div class="navbar-brand">
            <a class="navbar-item" href="../../index.html">
                <b id="logo">Silly Bytes</b>
            </a>
        </div>

        <div id="sillybytesnavbar" class="navbar-menu">
            <div class="navbar-end">
                <a href="../../index.html" class="navbar-item">Home</a>
                <a href="../../about.html" class="navbar-item">About</a>
            </div>
        </div>
    </nav>

</header>


        <div id="main" class="container is-max-desktop">
            <div class="container is-fluid">
                <article class="post">
    <h1 class="is-size-2 has-text-weight-medium has-text-left">A better and prettier mysql/mariadb CLI client</h2>
    <aside class="date has-text-left">May 22, 2016</aside>

    <section id="post-content">
        <p>The default, unconfigured CLI client you use with <em>MySQl</em> or <em>MariaDB</em> is kind of awful, no colors, pretty bad query editing capabilities, and the output is not paginated. Let’s improve the experience.</p>
<h1 id="client">Client</h1>
<p>Start by creating a configuration file <code>~/.my.cnf</code> with the following content.</p>
<p>Automatically prompt a password for your user to avoid the <code>--user</code> option each time</p>
<!--more-->
<pre><code>[client]

user = alx
password</code></pre>
<p>Stop making annoying noises, god dammit!</p>
<pre><code>no-beep</code></pre>
<p>Is easy to type <code>^C</code> by accident, don’t kill the session!</p>
<pre><code>sigint-ignore</code></pre>
<p>If the output is wider than the screen, make it readable</p>
<pre><code>auto-vertical-output</code></pre>
<p>Because I am a dummy indeed</p>
<pre><code>i-am-a-dummy</code></pre>
<p>You want completion, don’t you?</p>
<pre><code>auto-rehash</code></pre>
<h2 id="prompt-color">Prompt &amp; color</h2>
<pre><code>pager = &quot;ccze -A | less -RSFXin&quot;</code></pre>
<p>This will paginate your output using <em>less</em> only if the output won’t fit in your screen. Also, colorize it using <em>ccze</em> (which can make it a little slower in some situations, so beware)</p>
<pre><code>prompt=&quot;\n[\d]   (╯°□°）╯- ┻━┻    &quot;</code></pre>
<p>Show me the current database and use the drop table donger as the prompt (╯°□°）╯- ┻━┻ …. Drop table… Get it?</p>
<p>You might want to configure <em>ccze</em> as well with the <code>~/.ccze</code> file:</p>
<pre><code>numbers green
size yellow</code></pre>
<h1 id="input">Input</h1>
<p>The CLI client uses <a href="https://cnswww.cns.cwru.edu/php/chet/readline/rltop.html">readline</a>, so let’s configure it to get vi-like bindings by creating a <code>~/.inputrc</code> file with the content:</p>
<pre><code>$if mysql
    set editing-mode vi
$endif</code></pre>
<p>Pretty straight forward, just use vi editing mode for <em>mysql</em>.</p>
<p>You can get all the configure files from my <a href="https://github.com/alx741/dotfiles">dotfiles</a>:</p>
<ul>
<li><a href="https://github.com/alx741/dotfiles/blob/master/mysql/.my.cnf">.my.cnf</a></li>
<li><a href="https://github.com/alx741/dotfiles/blob/master/mysql/.inputrc">.inputrc</a></li>
<li><a href="https://github.com/alx741/dotfiles/blob/master/ccze/.cczerc">.cczerc</a></li>
</ul>
    </section>
</article>

            </div>
        </div>

    </body>

</html>
